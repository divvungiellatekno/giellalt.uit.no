<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
"http://forrest.apache.org/dtd/document-v20.dtd">
<document xml:lang="en">
    <header>
        <title>Adding users to svn (all files documented here are on gtsvn)</title>
        <authors>
            <person email="borre.gaup@samediggi.no" name="BÃ¸rre Gaup"/>
        </authors>
    </header>
    <body>
        <section>
            <title>Adding or changing user and the password</title>
            <source>sudo htpasswd -m /etc/subversion/svn-auth-file sally
New password: *******
Re-type new password: *******
Adding password for user sally</source>
            <p>Add the user on the commmitters line in the file /etc/subversion/svn-authz. Relevant user info is found in admin in a private folder -- and should be kept.</p>
        </section>
        <section>
            <title>Adding users to the svn mailing alias</title>
            <p>Optionally, add the user to the alias <em>samicvs</em> in the file <code>/etc/aliases</code>, and <em>run
                the program</em> <code>newaliases</code>.
            </p>
        </section>
        <section>
            <title>Adding new aliases for svn mail (i.e., new sets of files to send mail about to different users)</title>
            <p>New aliases for groups of files for svn should be added to the file
                <code>/etc/aliases</code>. Thereafter, they will be used in the
                so-called post-commit hook (i.e. their svn messages will be sent to
                the members of the alias in question. Do as follows:</p>
            <ul>
                <li>Make a new alias <code>aliasname</code> for svn
                mail by adding a <em>new line</em> in the file
                /etc/aliases in this format <code>aliasname:
                your.address@uit.no, some.person@gmail.com</code>. The
                aliasname may be the relevant directory, e.g. chr
                </li>
                <li>Copy the last line of the post-commit script (the
                file /home/svn/langtech/hooks/post-commit), add the
                copy as a new last line of the same file, and change
                the path following <em>-m</em> to the path with the
                files you want to be covered by the alias. Change the
                address to aliasname@localhost. The resulting line
                should look like this:
                        <ul>
                            <li><code>LC_ALL=se_NO.UTF-8 commit-email.pl "$REPOS" "$REV" -m "&lt;path of interest&gt;" -h "gtsvn.uit.no" -s langtech aliasname@localhost</code></li>
                        </ul>
                </li>
                <li>The post-commit scripts are here:
                    <ul>
                        <li>/home/svn/langtech/hooks/post-commit</li>
                        <li>/home/svn/biggies/hooks/post-commit</li>
                        <li>/home/svn/dasago/hooks/post-commit</li>
                        <li>/home/svn/freecorpus/hooks/post-commit</li>
                        <li>/home/svn/boundcorpus/hooks/post-commit</li>
                        <li>/home/svn/private/hooks/post-commit</li>
                        <li>/home/svn/speech/hooks/post-commit</li>
                    </ul>
                </li>
            </ul>
            <note>TODO: Document the implementation of this</note>
        </section>
    </body>
</document>
