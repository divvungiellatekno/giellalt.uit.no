<?xml version = '1.0' encoding = 'UTF-8'?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document xml:lang="en">
    <header>
        <title>The divvun server</title>
        <authors>
            <person email="borre.gaup@samediggi.no" name="BÃ¸rre Gaup" />
        </authors>
    </header>
    <body>
	<p>
	    The divvun.no web service is automatically restarted by the script <code>trunk/gt/script/restart-divvun</code>. Sometimes this script fails, and a manual restart of the service has to be done. This is how to do it.
	</p>
	<note>
	    To do this operation smoothly, you would probably like to set up <a href="auto-pass.html">password less login</a>
	</note>
	<section>
	    <title>Restarting the divvun server</title>
	    <ul>
		<li>Log in as sd</li>
		<li>Issue the command <code>screen -A -r</code></li>
		<li>Issue the command <code>ps ax | grep java | grep sd</code></li>
		<li>Kill all the processes that this command shows</li>
		<li>Re-check that there are no java processes going by re-issuing the <code>ps ax ...</code> command, and kill remaining processes listed by that command</li>
		<li>Go to the <code>$HOME/trunk/xtdoc/sd</code> directory, if you are not there already</li>
		<li>Issue the command <code>forrest run &amp;&gt;divvun.log</code></li>
	    </ul>
	</section>
    </body>
</document>