<html xmlns:xi="http://www.w3.org/2001/XInclude" lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Menus and tabs in Forrest</title>
      <authors>
         <person email="borre.gaup@samediggi.no" name="Børre Gaup"></person>
      </authors>
   </head>
   <body>
      <h1>Menus and tabs</h1>
      <p>For notes on Forrest layout, see the <a href="ForrestLayout.html">Forrest Layout document</a>.
      </p>
      <p>Menus and tabs are closely intertwined in forrest, but they are
         defined in separate places.
      </p>
      <p>Menu configuration is defined in the files
         <code>xtdoc/sd/src/documentation/content/xdocs/site.xml</code> and
         <code>xtdoc/sd/src/documentation/content/xdocs/doc/site-frag.xml</code>.
      </p>
      <p>Tab configuration is defined in the files
         <code>xtdoc/sd/src/documentation/content/xdocs/tabs.xml</code> and
         <code>xtdoc/sd/src/documentation/content/xdocs/doc/tabs-frag.xml</code></p>
      <p><code>site.xml</code> og <code>tabs.xml</code> respectively define
         the menus and the tabs in the main site.
      </p>
      <p><code>site-frag.xml</code> and <code>tabs-frag.xml</code> define the
         menus and the tabs for the technical documentation. The
         <code>site-frag.xml</code> file is included into the site layout using
         the following line in the <code>site.xml file</code>:
      </p>
      <pre xml:space="preserve">&lt;xi:include href="doc/site-frag.xml#xpointer(/tech/*)"
xmlns:xi="http://www.w3.org/2001/XInclude"/&gt;</pre>
      <p>The same method is used to incorporate the <code>tabs-frag.xml</code>
         into the site layout, using the following line in
         <code>tabs.xml</code></p>
      <pre xml:space="preserve">&lt;xi:include href="doc/tabs-frag.xml"
xmlns:xi="http://www.w3.org/2001/XInclude"/&gt;</pre>
      <h2>Defining a tab</h2>
      <p>A single tab is defined like this: <code>&lt;tab dir=""
            id="northern-sami" label="Davvisámegiella" indexfile="index_sme.html"
            /&gt;</code></p>
      <ul>
         <li>An entry has to start with the <em>tab</em> tag.
         </li>
         <li>The <em>id</em> attribute has to be a unique name, which
            identifies the tab.
         </li>
         <li>The <em>dir</em> attribute tells which folder is the working
            folder of tab.
         </li>
         <li>The <em>label</em> attribute defines the name of the tab.
         </li>
         <li>The <em>indexfile</em> attribute tells which file should be
            opened when clicking the tab.
         </li>
      </ul>
      <h3>Subtabs</h3>
      <p>It is possible to define two levels of tabs in forrest. The
         following example is fetched from the <code>tabs-frag.xml</code>
         file.
      </p>
      <pre xml:space="preserve">&lt;tab dir="doc" id="TechDoc" label="Tech. doc" indexfile="intro.html" &gt;
    &lt;tab dir="doc/admin" id="admin" label="Admin" indexfile="workplan.html" /&gt;
    &lt;tab dir="doc/infra" id="infra" label="Infrastucture" indexfile="Infrastructure.html" /&gt;
    &lt;tab dir="doc/lang"  id="lang"  label="Languages" indexfile="index.html" /&gt;
    &lt;tab dir="doc/ling"  id="ling"  label="Linguistics" indexfile="common.html" /&gt;
    &lt;tab dir="doc/tools" id="tools" label="Tools" indexfile="tools.html" /&gt;
&lt;/tab&gt;
                </pre>
      <p>This stanza defines the tab labeled "Tech. Doc", with the subtabs
         "Admin", "Infrastucture", "Languages", "Linguistics" and
         "Tools".
      </p>
      <p>The way the subtabs are defined above, means that we can bind
         specific menus to them. If you don't want that behaviour, then you
         can omit the <em>id</em> attribute in the subtabs.
      </p>
      <note>The <em>id</em> attribute is referred to from the menus, and
         this binds the tab and the menu together.
      </note>
      <h2>Defining a menu</h2>
      <p>This piece of code is fetched from from
         <code>xtdoc/src/documentation/content/xdocs/site.xml</code>, and
         defines the introductory menu:
      </p>
      <pre xml:space="preserve">&lt;about label="About" tab="Home" &gt;
    &lt;index   href="index.html" label="Index" description="Welcome to divvun.no" /&gt;
    &lt;changes href="changes.html" label="Changes" description="The projects history" /&gt;
    &lt;todo    href="todo.html" label="Todo" description="The plan for the project" /&gt;
&lt;/about&gt;</pre>
      <p>A single menu entry contains a tag you define yourself (e.g. index,
         changes, todo, whatever ...), a href (some internet adress), and an
         optional description.
      </p>
      <p>These entries are surrounded by the "about" tag. As stated above,
         we could replace "about" with something else. The label attribute
         defines the name of the menu entry, and the tab attribute defines
         <em>which tab</em> should be highlighted when pressing this link.
      </p>
      <h3>Further examples</h3>
      <p>The next example is from the file
         <code>gt/doc/site-frag.xml</code>. This is a part of the menu that
         appears when clicking first the <em>Tech. Doc</em> tab, and the
         <em>Admin</em> subtab.
      </p>
      <pre xml:space="preserve">&lt;admin href="docslashadminslash" label="Project" tab="admin" &gt;
    &lt;worktodo href="workplan.html" label="Work Plan" /&gt;
    &lt;adr href="adr.html" label="Project workers" /&gt;
    ...
&lt;/admin&gt;</pre>
      <p>It has the same structure as the previous example, with one
         notable exception, the <em>href</em> that points to the directory
         <code>doc/admin/</code>.
      </p>
      <p>This means that the <em>hrefs</em> defined in the menu entries
         inside this one, will point to files in this folder.
      </p>
      <note>One crucial detail in the href is the final
         <strong>/</strong>. This one has to be there, so that the submenu of
         the chosen tab shows. If the final <strong>/</strong> is omitted,
         then all the menus defined in site.xml will be shown.
      </note>
   </body>
</html>