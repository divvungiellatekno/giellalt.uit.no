<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
"http://forrest.apache.org/dtd/document-v20.dtd">
<document xml:lang="en">
    <header>
        <title>Corpus collector's manual</title>

        <authors>
            <person email="tomi.k.pieski@uit.no" name="Tomi Pieski" />
            <person email="saara huhmarniemi @ helsinki fi" name="Saara Huhmarniemi" />
            <person email="borre.gaup@uit.no" name="BÃ¸rre Gaup" />
        </authors>
    </header>

    <body>
        <section>
            <title>Introduction</title>

            <p>
                This file provides an overview of the corpus conversion process.
                Basically, when a new document is recieved, it is classified according
                to the language and genre and stored as such to the directory structure
                for the original files. All the original files are left untouched. The
                text and structural information contained in the document is extracted
                by a conversion script and transformed to an xml-file. Xml-files are
                stored in separate, parallel directory hierarchy where they can be
                easily accessed and used as a test material for grammar checkers and
                spellers. The metainformation associated with the document, such as the
                name of the author, is stored in an xsl-file and appended to the
                xml-file during the conversion. The metainformation is used elsewhere,
                in different corpus applications.
            </p>

            <section>
                <title>convert2xml</title>

                <p>
                    The file to be converted is given to convert2xml as a command line
                    argument. If a directory is the argument, all files in the given directory
                    and the directories inside it are converted. The file
                    types that are supported at the moment are: doc, pdf, html, text and
                    paratext. At the users' point of view, there is no difference
                    between the file types, the technical documentation is provided at <a href="corpus_conversion_tech.html">corpus_conversion_tech.html</a>.
                </p>

                <section>
                    <title>Install convert2xml</title>
                    <p>
                        Follow the instructions on our
                        <a href="../infra/GettingStarted.html">getting started</a>
                        page. Then install <code>convert2xml</code> by running
                    </p>
                    <source>cd $GTHOME/tools/CorpusTools
python setup.py develop --user
mv $HOME/.local/bin/* $HOME/bin
                    </source>
                </section>

                <section>
                    <title>Convert a file</title>
                    <source>
convert2xml original.pdf
                    </source>
                    <p>
                        The resulting file is a fully converted xml-file <code>
                        original.pdf.xml</code>.
                    </p>
                    <p>
                        If the file is placed inside a corpus hierarchy, e.g.
                        orig/sme/facta/original.pdf, then the converted file will
                        be written to converted/sme/facta/original.pdf, where
                        orig and converted are parallel directories.
                    </p>
                    <p>
                        Otherwise
                        a directory named <code>converted</code> will be made,
                        and the result of the conversion is written to
                        <code>converted/original.pdf.xml</code>
                    </p>
                </section>

                <section>
                    <title>Convert all the files in directories</title>
                    <p>
                        Examples:
                    </p>
                    <source>
convert2xml dir1
convert2xml dir1 dir2
convert2xml dir*
                    </source>
                </section>

                <section>
                    <title>Log files</title>

                    <p>
                        If a file is not converted, the error messages, warnings and other information of the conversion
                        are stored in a logfile. The log file is named after current file with a .log extenseion and stored in the same directory that the file resides.
                    </p>

                </section>
            </section>
        </section>

        <section>
            <title>Working with the corpus</title>
            <ul>
                <li><a href="corpus_repositories.html#Adding+content">Adding content to the corpus</a></li>
                <li><a href="ParallelCorpusConversion.html">Example session on how to add parallel files to the corpus</a></li>
            </ul>

        </section>

    </body>
</document>
