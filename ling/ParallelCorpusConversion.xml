<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN"
"http://forrest.apache.org/dtd/document-v20.dtd">
<document xml:lang="en">
    <header>
        <title>Fetching parallel files from samediggi.no</title>
        <authors>
            <person email="berit.nystad.eskonsipo@uit.no" name="Berit Merete Nystad Eskonsipo" />
            <person email="borre.gaup@uit.no" name="Børre Gaup" />
        </authors>
    </header>
    <body>
        <p>This is an example on how to:</p>
        <ul>
            <li>fetch parallel documents</li>
            <li>add metadata that make the parallel documents refer to each other</li>
            <li>add the parallel documents and their metadata to the corpus repository</li>
            <li>convert them to giellateknos xml format</li>
            <li>move the converted documents to prestable/converted</li>
        </ul>
        <section>
            <title>Fetch parallel documents</title>
            <ol>
                <li>Open Safari, go to this address:
                    <p>
                        <a href="http://www.samediggi.no/Dokumeantta/Oza-dokumeanttaid">http://www.samediggi.no/Dokumeantta/Oza-dokumeanttaid</a>
                    </p>
                    <p>Click on "Lávdegottit", "Dievasčoahkkimat" and "Møter"</p>
                    <p>Choose some file and click on it. The document will be opened in another tab. </p>
                    <p>Copy the document link. </p>
                </li>
                <li>Open another tab in the same Safari window (Press cmd+t) and go to:
                    <p>
                        <a href="http://www.sametinget.no/Dokumenter/Soek-etter-dokumenter">http://www.sametinget.no/Dokumenter/Soek-etter-dokumenter</a>
                    </p>
                    <p>Click on "Utvalg", "Plenumsmøter" and "Møter"</p>
                    <p>Choose the norwegian version of the saami document and double click it. The document will open in a new tab. </p>
                    <p>(You now have the saami pages in the left tab and the norwegian pages in the right tab) </p>
                </li>
                <li>Open a new window in SubEthaEdit (cmd+n)
                    <p> - paste (cmd+v) the link of the saami document - press cmd+f and replace &amp; with \&amp; (replace all) - copy (cmd+c) the link</p>
                </li>
                <li>Open a new Terminal window and go to:
                    <p> freecorpus/orig/sme/admin/sd/other_files/ </p>
                    <p>Fetch the saami document with this command:  wget (cmd+v, to paste the link we just copied)</p>
                    <p>Change the name of the document:  mv wf (press tab, the whole name will appear) dc2012-2.pdf</p>
                    <p>Make the xsl file:  convert2xml dc2012-2.pdf </p>
                </li>
                <li>Go back to Safari and copy the link to the norwegian document.
                </li>
                <li>Go to the SubEthaEdit window
                    <p> - paste (cmd+v) the link of the norwegian document - press cmd+f and replace &amp; with \&amp; (replace all) - copy (cmd+c) the link</p>
                </li>
                <li>Go the already opened Terminal. Press cmd+t to open a new tab and go to:
                    <p>freecorpus/orig/nob/admin/sd/other_files/ </p>
                    <p>Fetch the norwegian document using this command:  wget (press cmd+v, then paste the link using cmd+c)</p>
                    <p>Change the name of the document:  mv wf (press tab, the whole name will appear) sp2012-2.pdf</p>
                    <p>Make the .xsl file:  convert2xml sp2012-2.pdf </p>
                    <p>(Now you have the saami pages in the left tab of Terminal and the norwegian pages in the right tab) </p>
                </li>
            </ol>
        </section>
        <section>
            <title>Add metadata</title>
            <ol>
                <li>Open the saami xsl file:
                    <p> see dc2012-2.pdf.xsl </p>
                </li>
                <li>Open the norwegian xsl file:
                    <p> see sp2012-2.pdf.xsl </p>
                </li>
                <li>Place the saami file on the left hand side and the norwegian file on the right hand side. Then fill in the metadata in the xsl files.</li>
                <li>These entries have be filled in:
                    <p> This entry has to be entered in the saami xsl file (don't fill in "translated from" in the norwegian xsl file):</p>
                    <source>
<![CDATA[
<xsl:variable name="filename" select="'http://innsyn.e-kommune.no/innsyn_sametinget_samisk/wfdocument.aspx?journalpostid=2012006934&amp;dokid=368243&amp;versjon=1&amp;variant=P&amp;ct=RA-PDF'"/>
]]>
                    </source>
                    <p>--&gt;NB!! This is the full link, note that you have to replace some characters in the link. (Paste the link into a clean SubEthaEdit document, use the search and replace function and replace &amp; with (&amp;amp;). Don't include the paranthesis). Copy the link and paste it into the Terminal. IMPORTANT: replace &amp; with &amp;amp; </p>
                    <source>
<![CDATA[
<xsl:variable name="title" select="'Sámedikki dievasčoahkkin Čoahkkingirji 001/12'"/>
<xsl:variable name="publisher" select="'Norgga Sámediggi'"/>
<xsl:variable name="year" select="'2012'"/>
<xsl:variable name="genre" select="'admin'"/>
<xsl:variable name="translated_from" select="'nob'"/>
]]>
                    </source>
                    <p>---&gt;NB! Only use translated_from if it is a translated document! </p>
                    <source>
<![CDATA[
<xsl:variable name="license_type" select="'free'"/>
<xsl:variable name="sub_name" select="'Berit Eskonsipo'"/>
<xsl:variable name="sub_email" select="'berit.nystad.eskonsipo@uit.no'"/>
<xsl:variable name="mainlang" select="'sme'"/>
<xsl:variable name="monolingual" select="'1'"/> <!--lg rec is off!-->
<xsl:variable name="parallel_texts" select="'1'"/>
<xsl:variable name="para_nob" select="'sp2012-1.pdf'"/>
]]>
                    </source>
                    <p>Save! </p>
                </li>
            </ol>
        </section>
        <section>
            <title>Add the parallel documents and their metadata to the corpus repository</title>
            <ol>
                <li>Rerun convert2xml in the SME Terminál window (note that you can press up in the Terminal untill the right command appears.):
                    <p>convert2xml dc2012-2.pdf </p>
                </li>
                <li>Write svn stat and the result is:
                    <p> ?	dc2012-2.pdf  ?	dc2012-2.pdf.xsl </p>
                    <p>(copy (cmd+v) dc2012-2.pdf)</p>
                </li>
                <li>Write:
                    <p> svn add (cmd+v) (cmd+v+.+tab)</p>
                </li>
                <li>Write:
                    <p> svn ci -m "your svn message"</p>
                </li>
                <li>Rerun convert2xml in the NOB Terminal window (note that you can press up in the Terminal untill the right command appears.):
                    <p>convert2xml sp2012-2.pdf </p>
                </li>
                <li>Write svn stat and the result is:
                    <p> ?	sp2012-2.pdf  ?	sp2012-2.pdf.xsl </p>
                    <p>(copy (cmd+v) sp2012-2.pdf)</p>
                </li>
                <li>Write:
                    <p> svn add (cmd+v) (cmd+v+.+tab)</p>
                </li>
                <li>Write:
                    <p> svn ci -m "your svn message"</p>
                </li>
            </ol>
        </section>
        <section>
            <title>Move the converted documents to prestable/converted</title>
            <ol>
                <li>In the SME Terminal, write:
                    <p><code>cd</code><br/>
                        <code>cd freecorpus/converted/sme/admin/sd/other_files</code></p>
                </li>
                <li>Write this:
                    <p> pick (press tab, pick-parallel-docs.pl appears) dc2012-2.pdf.xml (pick-parallel-docs.pl only works on sme docs)</p>
                </li>
                <li>Write this:
                    <p><code>cd</code><br/>
                        <code>cd freecorpus</code>
                    </p>
                </li>
                <li>Write svn stat and the result is:
                    <p> ?	prestable/converted/nob/admin/sd/other_files/sp2012-2.pdf.xml  ?	prestable/converted/sme/admin/sd/other_files/dc2012-2.pdf.xml </p>
                </li>
                <li>Write:
                    <p> svn add (copy and paste both paths, remember to add a space between them) prestable/converted/nob/admin/sd/other_files/sp2012-2.pdf.xml prestable/converted/sme/admin/sd/other_files/dc2012-2.pdf.xml</p>
                </li>
                <li>Write:
                    <p> svn ci -m "added approved parallel files to prestable"</p>
                    <p>YOU NOW HAVE ADDED NEW PARALLEL DOCUMENTS TO PRESTABLE </p>
                </li>
            </ol>
        </section>
    </body>
</document>
